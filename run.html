<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart with 20% Discount Summary</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 p-6">
    <div class="max-w-5xl mx-auto">
      <h1 class="text-3xl font-bold mb-6 text-center text-blue-700">
        üõçÔ∏è Simple Store (20% Discount)
      </h1>

      <!-- Product Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-10">
        <!-- Product 1 -->
        <div
          class="bg-white rounded-2xl shadow hover:shadow-lg p-4 flex flex-col items-center"
        >
          <img
            src="https://via.placeholder.com/200x150?text=T-shirt"
            alt="T-shirt"
            class="rounded-lg mb-3"
          />
          <h3 class="font-bold text-lg">T-shirt</h3>
          <p class="text-gray-500 mb-2">$20.00</p>
          <button
            class="add-to-cart bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
            data-name="T-shirt"
            data-price="20"
            data-image="https://via.placeholder.com/80x80?text=T-shirt"
          >
            Add to Cart
          </button>
        </div>

        <!-- Product 2 -->
        <div
          class="bg-white rounded-2xl shadow hover:shadow-lg p-4 flex flex-col items-center"
        >
          <img
            src="https://via.placeholder.com/200x150?text=Sneakers"
            alt="Sneakers"
            class="rounded-lg mb-3"
          />
          <h3 class="font-bold text-lg">Sneakers</h3>
          <p class="text-gray-500 mb-2">$45.00</p>
          <button
            class="add-to-cart bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
            data-name="Sneakers"
            data-price="45"
            data-image="https://via.placeholder.com/80x80?text=Sneakers"
          >
            Add to Cart
          </button>
        </div>

        <!-- Product 3 -->
        <div
          class="bg-white rounded-2xl shadow hover:shadow-lg p-4 flex flex-col items-center"
        >
          <img
            src="https://via.placeholder.com/200x150?text=Bag"
            alt="Bag"
            class="rounded-lg mb-3"
          />
          <h3 class="font-bold text-lg">Bag</h3>
          <p class="text-gray-500 mb-2">$35.00</p>
          <button
            class="add-to-cart bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
            data-name="Bag"
            data-price="35"
            data-image="https://via.placeholder.com/80x80?text=Bag"
          >
            Add to Cart
          </button>
        </div>
      </div>

      <!-- Cart Section -->
      <div id="cart" class="bg-white rounded-2xl shadow p-6">
        <h2 class="text-2xl font-bold mb-4 text-gray-800">üõí Your Cart</h2>
        <ul id="cart-items" class="divide-y divide-gray-200 mb-6"></ul>

        <!-- Summary -->
        <div class="border-t pt-4 space-y-2 text-right">
          <div class="flex justify-between text-gray-700">
            <span>Subtotal:</span>
            <span>$<span id="cart-subtotal">0.00</span></span>
          </div>

          <div class="flex justify-between text-green-700 font-semibold">
            <span>Discount (20%):</span>
            <span>-$<span id="cart-discount">0.00</span></span>
          </div>

          <div class="flex justify-between text-xl font-bold border-t pt-2">
            <span>Total (After Discount):</span>
            <span>$<span id="cart-total">0.00</span></span>
          </div>
        </div>

        <!-- Clear Cart -->
        <div class="mt-5 text-right">
          <button
            id="clear-cart"
            class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
          >
            Clear Cart
          </button>
        </div>
      </div>
    </div>

    <script>
      const cartItems = [];
      const cartList = document.getElementById("cart-items");
      const cartSubtotal = document.getElementById("cart-subtotal");
      const cartDiscount = document.getElementById("cart-discount");
      const cartTotal = document.getElementById("cart-total");
      const clearCartBtn = document.getElementById("clear-cart");

      // Add to cart
      document.querySelectorAll(".add-to-cart").forEach((button) => {
        button.addEventListener("click", () => {
          const name = button.dataset.name;
          const price = parseFloat(button.dataset.price);
          const image = button.dataset.image;

          cartItems.push({ name, price, image });
          renderCart();
        });
      });

      // Render cart
      function renderCart() {
        cartList.innerHTML = "";
        let subtotal = 0;

        cartItems.forEach((item, index) => {
          const li = document.createElement("li");
          li.className = "flex items-center justify-between py-3";

          li.innerHTML = `
          <div class="flex items-center space-x-3">
            <img src="${item.image}" alt="${
            item.name
          }" class="w-12 h-12 rounded" />
            <div>
              <p class="font-medium text-gray-800">${item.name}</p>
              <p class="text-gray-500 text-sm">$${item.price.toFixed(2)}</p>
            </div>
          </div>
          <button class="delete-item text-red-600 hover:underline text-sm" data-index="${index}">
            Delete
          </button>
        `;

          cartList.appendChild(li);
          subtotal += item.price;
        });

        const discountAmount = subtotal * 0.2;
        const totalAfterDiscount = subtotal - discountAmount;

        cartSubtotal.textContent = subtotal.toFixed(2);
        cartDiscount.textContent = discountAmount.toFixed(2);
        cartTotal.textContent = totalAfterDiscount.toFixed(2);

        // Delete item
        document.querySelectorAll(".delete-item").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const i = e.target.dataset.index;
            cartItems.splice(i, 1);
            renderCart();
          });
        });
      }

      // Clear cart
      clearCartBtn.addEventListener("click", () => {
        cartItems.length = 0;
        renderCart();
      });
    </script>
  </body>
</html>
